Title: Getting started with systemd for your aah application
Desc: Getting started with systemd for your aah application.
Keywords: systemd, service, aah, application
---
# Getting started with systemd

This document describes simple introduction of `systemd` and configuration steps for aah application to accomplish it.

`systemd` is an init system that provides many powerful features for starting, stopping, reload configuration and managing processes. Refer to [systemd man page](https://www.freedesktop.org/software/systemd/man/systemd.service.html).

`systemd` consists of two main concepts:

  * A unit is a configuration file that describes the properties of the process that user want to run.
  * A target is a grouping mechanism that allows systemd to start-up groups of processes at the same time. This happens at every boot as processes are started at different run levels.

<div class="alert alert-info-blue">
<p><strong>Note:</strong> Ensure the rights are set correctly and provide ownership to the user you want to use. Here, I'll use the <code>aah</code> as a user account.</p>
</div>

**Table of Contents**

  * [Handy `generate` Command](#handy-generate-command)
  * [Steps to Configure and Enable](#steps-to-configure-and-enable)
  * [How to Start, Stop, Restart, Reload and Status](#how-to-start-stop-restart-reload-and-status)
  * [aahframework.org `systemd` service file](#aahframework-org-systemd-service-file)

## Handy `generate` Command

Introduced in <span class="badge lb-sm">v0.10.0</span> aah CLI. Command `generate` is to help developer(s) in thier application development. To generate systemd service file for your aah application-

```bash
# Go to application base directory and run
aah generate script --name systemd

# OR shorthand
aah g s -n systemd
```

## Steps to Configure and Enable

  1. Place your service file at `/etc/systemd/system/`. 
    - For e.g.: `aahwebsite.service`
  2. Reload the systemctl configurations.
    - Run `sudo systemctl daemon-reload`
  3. Enabling newly created service file with `systemctl`.
    - Run `sudo systemctl enable aahwebsite.service`
  4. Congrats, you have successfully created and enabled your application service in `systemd`.

## How to Start, Stop, Restart, Reload and Status

Now let's see how to utilize the service file. Don't forget to replace your service file/name with below example commands ðŸ˜„.

#### Start your application

```bash
sudo systemctl start aahwebsite.service 
# OR
sudo service aahwebsite start
```

#### Stop your application

```bash
sudo systemctl stop aahwebsite.service
# OR
sudo service aahwebsite stop
```

#### Restart your application

```bash
sudo systemctl restart aahwebsite.service
# OR
sudo service aahwebsite restart
```

#### Reload your application

<span class="badge lb-sm">Since v0.10</span> aah application binary supports [hot-reload](configuration-hot-reload.html) (to reflect changes done in config, views, i18n, etc) without application restart.

```bash
sudo systemctl reload aahwebsite.service
# OR
sudo service aahwebsite reload
```

#### Status of your application

```bash
sudo systemctl status aahwebsite.service
# OR
sudo service aahwebsite status
```

## aahframework.org `systemd` service file

For reference. This is `aahframework.org` website service file. aah application deployed at location `/home/aah/website`.

```bash
# GENERATED BY aah CLI - Feel free to customization it.
# FILE: aahwebsite.service
# DATE: Sat, 19 May 2018 21:34:31 -0700
# DESC: aah application systemd service file

[Unit]
Description=aahwebsite application
After=network.target

[Service]
User=aah
Group=aah
EnvironmentFile=/home/aah/website/env_values
ExecStart=/home/aah/website/bin/aahwebsite run --envprofile prod
ExecReload=/bin/kill -HUP $MAINPID
Restart=on-failure

[Install]
WantedBy=multi-user.target
```
